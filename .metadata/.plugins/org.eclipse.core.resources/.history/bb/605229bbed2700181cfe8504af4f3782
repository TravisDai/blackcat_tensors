/*
 * DP_test.h
 *
 *  Created on: Mar 14, 2018
 *      Author: joseph
 */

#ifndef DP_TEST_H_
#define DP_TEST_H_

#include "../BlackCat_Tensors.h"

	using BC::Matrix;

struct summation_to {
		__BCinline__
		auto operator () (const lv& left, const rv right) {
			return left += rv;
		}
	};

template<class T, class U>
auto axpy(const TensorBase<T>& to, const TensorBase<T>& A, const TensorBase<U>& B) {
	return to.binExpr<summation_to>(A + B);
}


template<class T, class functor>
auto tp_helper(const Matrix<T>& out, const Matrix<T> m1, const Matrix<T> m2, int o, int r, int c) {

	if (c + 1 < m2.cols()) {
		return axpy(o, m1, m2) && tp_helper(out, m1, m2, o + 1, r, c + 1);
	} else {
		return  tp_helper(out, m1, m2, o + 1, r + 1, 0);

	}

	if (r + 1 == m1.rows() && c + 1 == m2.cols()) {
		return;
	}
}

template<class T>
auto dotproduct(const BC::Matrix<T> m1, const BC::Matrix<T> m2) {
	Matrix<T> eval(m1.rows(), m2.cols());


}


#endif /* DP_TEST_H_ */

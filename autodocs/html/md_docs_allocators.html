<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>BlackCat_Tensors: Allocators</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BlackCat_Tensors
   </div>
   <div id="projectbrief">A GPU-supported autograd and linear algebra library, designed for neural network construction</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Allocators </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>BlackCat Tensor's common-types (Vector, Matrix, Cube) are created using two template arguments. The first argument, is the scalar-type while the second is the allocator. This was designed to mimic <code>stl</code> library.</p>
<h4>Overview</h4>
<p><em>Basic_Allocator</em>: </p><pre class="fragment">The standard allocator and default argument.
The Basic Allocator is comparable to the std::allocator.
It has no special properties.
</pre><p><em>Cuda</em>: </p><pre class="fragment">The generic allocator for CUDA. 
Allocates memory on the device. 
Memory allocated with Cuda cannot be accessed from the host.
</pre><p><em>Cuda_Managed</em>: </p><pre class="fragment">Cuda_Managed allocates memory via CudaMallocManaged. 
The memory is accessible from both host and device. 
Cuda_Managed is recommended if you are not familiar with Cuda programming.
</pre><h4>Additional Tags of BlackCat Allocators</h4>
<pre class="fragment">BlackCat Allocators utilize 2 additional tags to achieve various modifiability. 


`system_tag`

The system_tag, may be either BC::host_tag or BC::device_tag.
`system_tag` informs if the memory is allocated on the GPU or CPU. 
This enables compile time checking to make sure expressions are computed in the apropriate manner as well
as enabling querying for apropriate default behavior across the CPU and GPU. 

If system_tag is not supplied, it is defaulted to 'host_tag'.


`propagate_on_temporary_construction` 

The 'propagate_on_temporary_construction' enables the user to specify the behavior of memory allocation
when temporaries are needed. 

if 'propagate_on_temporary_construction' is set to 'std::false_type', the default allocator is used.
if 'propagate_on_temporary_construction' is set to 'std::true_type', the same allocator is used,
    the allocator will use "select_on_container_copy_construction" to generate the new allocator. 

if 'propagate_on_temporary_construction' is not defined it is defaulted to be 'std::false_type' 
</pre><h4>Choosing an allocator (example):</h4>
<div class="fragment"><div class="line"><a class="code" href="classBC_1_1tensors_1_1Tensor__Base.html">BC::Matrix&lt;float&gt;</a> mat;                     <span class="comment">//defaults to Basic_Allocator&lt;float&gt;</span></div><div class="line"><a class="code" href="classBC_1_1tensors_1_1Tensor__Base.html">BC::Matrix&lt;float, BC::Basic_Allocator&lt;float&gt;</a>&gt; mat; <span class="comment">//identical to above   </span></div><div class="line"><a class="code" href="classBC_1_1tensors_1_1Tensor__Base.html">BC::Matrix&lt;float, BC::Cuda&lt;float&gt;</a>&gt; mat;            <span class="comment">//allocates memory on the GPU </span></div><div class="line"><a class="code" href="classBC_1_1tensors_1_1Tensor__Base.html">BC::Matrix&lt;float, BC::Cuda_Managed&lt;float&gt;</a>&gt; mat;    <span class="comment">//allocates memory on the GPU but data transfer is managed automatically. </span></div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
